#!/usr/bin/env ruby

puts 'Welcome to Ruby  Tic Tac Toe game '

puts box = "+---+---+---+ \n| 1 | 2 | 3 | \n+---+---+---+ \n
| 4 | 5 | 6 |\n+---+---+---+\n| 7 | 8 | 9 |\n+---+---+---+ \n"

puts 'Lets start the game!'
# players enter their name to begin the game
puts "\nEnter Player1 name: "
one = gets.chomp.strip

if one.empty?
  puts "Player name cant be an empty,enter player's name"
  one = gets.chomp
elsif one.to_i.to_s.eql? one
  puts 'Use only text no numbers: '
  one = gets.chomp
elsif one.length < 4
  puts 'Player name should be more than 4 character: '
  one = gets.chomp
end

puts 'Enter Player2 name: '
two = gets.chomp.strip

if two.empty?
  puts "Player name cant be an empty,enter player's name"
  two = gets.chomp
elsif two.to_i.to_s.eql? one
  puts 'Use only text no numbers: '
  two = gets.chomp
elsif two.length < 4
  puts 'Player name should be more than 4 character: '
  two = gets.chomp
elsif two == one
  puts 'Players cannot have the same name'
  two = gets.chomp
end

puts "#{one} will play with x and #{two} with 0"

puts "\n #{one} starts the game"

# the players begin to choose numbers from board
board = [1, 2, 3, 4, 5, 6, 7, 8, 9]
puts 'select an available cell from board'
number = gets.chomp.to_i

until board.include?(number)
  puts 'invalid move. Please enter a number from 1-9'
  number = gets.chomp.to_i
end

puts box
puts "#{two} Its your turn"

puts 'select an available cell from board'
number = gets.chomp.to_i

until board.include?(number)
  puts 'invalid move. Please enter a number from 1-9'
  number = gets.chomp.to_i
end

game_on = true
puts 'During each turn a player is allowed to pick a number between 1-9,on each round the number must be unique'

while game_on
  puts box
  puts "#{one} Its your turn"
  count = gets.chomp.to_i
  if [1, 2, 3].include? count
    puts "Game over!\nThe winner is #{one} !"
  elsif [4, 5, 6].include? count
    puts "Game over!\nThe winner is #{two} !"
  else
    puts "Game over!\nIts a draw"
  end
  game_on = false
end
